server:
  bind_address: 0.0.0.0:8080
  threads: 2
  tls_enabled: false
  tls_cert: /path/to/cert
  tls_key: /path/to/key

origin:
  timeout: 5
  dynamic:
    host: "https://{{route.name}}.{{req.header.x-domain}}"
  unmatched:
    host: "https://composer.unknown-tenant"
    response:
      code: 404
      body: |-
        <html>
          <head>
            <title>404 - Not Found</title>
          </head>
          <body><h1>404 - Not Found</h1></body>
        </html>

proxy:
  host:
  port:
  username:
  password:

transform:
  request:
    insert:
      X-Route-Name: '{{route.name}}'
      X-Tenant-Host: '{{route.name}}.{{req.header.x-domain}}'
    delete:
      - X-Domain
  response:
    insert:
      X-Origin: '{{route.name}}.{{req.header.x-domain}}'
      X-MatchRoute: '{{route.name}}'
      X-MatchedPath: '{{route.match}}'

routes:
  composer:
    paths:
      - '*'
  coldfusion:
    paths:
      - '/foo*'
      - '/bar*'
      - '/baz*'

logging:
  hooks:
    syslog:
  levels:
    x: info
# New Relic configuration
newrelic:
  app_name:
  license_key:
